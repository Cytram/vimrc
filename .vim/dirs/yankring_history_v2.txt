VOLUME ~/Documents/docker/nginx-webserver /home/,V
~/nginxlogs:/var/log/nginx,v
s,v
-v ~/nginxlogs:/var/log/nginx,v
395bbce05770,v
09:18:38.556513 IP 10.7.20.42 > 10.101.9.181: ICMP echo request, id 14651, seq 26, length 64,v
f3cba587c87d,v
max_fails=3  fail_timeout=15s,v
4a43174fdf72,v
3fb446f782a6,v
| xargs docker rmi,v
set -g theme_display_hg yesset -g theme_display_virtualenv no,V
set -g theme_display_docker_machine no,V
set -g theme_display_git no,V
,V
set -g theme_display_git noset -g theme_display_git_untracked noset -g theme_display_git_ahead_verbose yesset -g theme_git_worktree_support yesset -g theme_display_vagrant yesset -g theme_display_docker_machine noset -g theme_display_hg yesset -g theme_display_virtualenv noset -g theme_display_ruby noset -g theme_display_user yesset -g theme_display_vi noset -g theme_display_date noset -g theme_display_cmd_duration yesset -g theme_title_display_process yesset -g theme_title_display_path noset -g theme_title_display_user yesset -g theme_title_use_abbreviated_path noset -g theme_date_format "+%a %H:%M"set -g theme_avoid_ambiguous_glyphs yesset -g theme_powerline_fonts noset -g theme_nerd_fonts yesset -g theme_show_exit_status yesset -g default_user your_normal_userset -g theme_color_scheme darkset -g fish_prompt_pwd_dir_length 0set -g theme_project_dir_length 1set -g theme_newline_cursor yesset -g theme_powerline_fonts noset -g theme_nerd_fonts yes,v
€kb€kb,v
set -g theme_display_git noset -g theme_display_git_untracked noset -g theme_display_git_ahead_verbose yesset -g theme_git_worktree_support yesset -g theme_display_vagrant yesset -g theme_display_docker_machine noset -g theme_display_hg yesset -g theme_display_virtualenv noset -g theme_display_ruby noset -g theme_display_user yesset -g theme_display_vi noset -g theme_display_date noset -g theme_display_cmd_duration yesset -g theme_title_display_process yesset -g theme_title_display_path noset -g theme_title_display_user yesset -g theme_title_use_abbreviated_path noset -g theme_date_format "+%a %H:%M"set -g theme_avoid_ambiguous_glyphs yesset -g theme_powerline_fonts noset -g theme_nerd_fonts yesset -g theme_show_exit_status yesset -g default_user your_normal_userset -g theme_color_scheme darkset -g fish_prompt_pwd_dir_length 0set -g theme_project_dir_length 1set -g theme_newline_cursor yes,v
config.fish,v
set -g theme_powerline_fonts no,V
set -g theme_nerd_fonts yes,V
RUN apt-get install apache2 -y,V
10.101.75.151,v
COPY load-balancer.conf /etc/nginx/conf.d/,V
RUN rm -v /etc/nginx/sites-available/default,V
bccb669b5ae9,v
CMD ["apache2"],V
FROM ubuntuMAINTAINER Maintaner NameRUN apt-get updateRUN apt-get install -y nano wget dialog net-toolsRUN apt-get install -y nginxRUN apt-get install software-properties-common -yRUN add-apt-repository ppa:jonathonf/vim -yRUN apt-get updateRUN apt-get install vim -yRUN apt-get install apache2 -yRUN rm -v /etc/nginx/sites-available/defaultCOPY load-balancer.conf /etc/nginx/conf.d/RUN echo "daemon off;" >> /etc/nginx/nginx.confEXPOSE 80CMD ["nginx"],v
COPY ports.conf /etc/apache2/,V
RUN rm -v /etc/apache2/ports.conf,V
4ba5097824c8,v
CMD service apache2 start,V
/etc/apache2,v
#RUN rm -v /etc/nginx/nginx.conf,V
   server 192.168.1.234;,V
# If you just change the port or add more ports here, you will likely also# have to change the VirtualHost statement in# /etc/apache2/sites-enabled/000-default.confListen 80<IfModule ssl_module>	Listen 443</IfModule><IfModule mod_gnutls.c>	Listen 443</IfModule># vim: syntax=apache ts=4 sw=4 sts=4 sr noet,v
172.17.0.2,v
   server 192.168.1.233;,V
t,v
default,v
/etc/nginx/sites-enabled,v
http {server {# Define which servers to include in the load balancing scheme.Last login: Thu Nov 23 09:55:51 on ttys003Welcome to fish, the friendly interactive shelljpet@mac161441 ~> docker psCONTAINER ID        IMAGE                            COMMAND                  CREATED             STATUS              PORTS                  NAMES38d893cb1870        nginx/loadbalancer-test:latest   "/bin/sh -c 'servi..."   15 seconds ago      Up 23 seconds       0.0.0.0:3010->80/tcp   admiring_shawjpet@mac161441 ~> docker exec -i -t wizardly_stallman /bin/bashError response from daemon: Container 7529178a3a92a7cdb7dfcbf57e0f4f109c65b3547cda6c1294dad15684576a1b is not runningjpet@mac161441 ~> docker exec -i -t admiring_shaw  /bin/bashroot@38d893cb1870:/# lsbin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  varroot@38d893cb1870:/# vimroot@38d893cb1870:/# lsbin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  varroot@38d893cb1870:/# lsbin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  varroot@38d893cb1870:/# lsbin  boot  dev  etc  home  lib  lib64  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  varroot@38d893cb1870:/# cd /etc/nginx/sites-available/root@38d893cb1870:/etc/nginx/sites-available# lsdefaultroot@38d893cb1870:/etc/nginx/sites-available# lsdefaultroot@38d893cb1870:/etc/nginx/sites-available# vim defaultroot@38d893cb1870:/etc/nginx/sites-available# mv default defaultbackuproot@38d893cb1870:/etc/nginx/sites-available# vim defaultroot@38d893cb1870:/etc/nginx/sites-available# service nginx restart * Restarting nginx nginx                                           [fail]root@38d893cb1870:/etc/nginx/sites-available# cat /var/log/nginx/error.log2017/11/23 11:34:48 [emerg] 72#72: "http" directive is not allowed here in /etc/nginx/sites-enabled/default:1root@38d893cb1870:/etc/nginx/sites-available# vim defaultroot@38d893cb1870:/etc/nginx/sites-available# cd ..root@38d893cb1870:/etc/nginx# lsconf.d        fastcgi_params  koi-win     nginx.conf    scgi_params      sites-enabled  uwsgi_paramsfastcgi.conf  koi-utf         mime.types  proxy_params  sites-available  snippets       win-utfroot@38d893cb1870:/etc/nginx# vim nginx.confroot@38d893cb1870:/etc/nginx# lsconf.d        fastcgi_params  koi-win     nginx.conf    scgi_params      sites-enabled  uwsgi_paramsfastcgi.conf  koi-utf         mime.types  proxy_params  sites-available  snippets       win-utfroot@38d893cb1870:/etc/nginx# cd conf.d/root@38d893cb1870:/etc/nginx/conf.d# lsroot@38d893cb1870:/etc/nginx/conf.d# lsroot@38d893cb1870:/etc/nginx/conf.d# vim load-balancer.confroot@38d893cb1870:/etc/nginx/conf.d# systemctl nginx restartUnknown operation nginx.  1 FROM ubunturoot@38d893cb1870:/etc/nginx/conf.d# service nginx restart * Restarting nginx nginx                                           [fail]root@38d893cb1870:/etc/nginx/conf.d# cat /var/log/nginx/error.log  1 # Define which servers to include in the load balancing scheme.2017/11/23 11:34:48 [emerg] 72#72: "http" directive is not allowed here in /etc/nginx/sites-enabled/default:12017/11/23 11:40:08 [emerg] 108#108: unexpected "}" in /etc/nginx/sites-enabled/default:8root@38d893cb1870:/etc/nginx/conf.d# cd ..root@38d893cb1870:/etc/nginx# lsconf.d        fastcgi_params  koi-win     nginx.conf    scgi_params      sites-enabled  uwsgi_paramsfastcgi.conf  koi-utf         mime.types  proxy_params  sites-available  snippets       win-utfroot@38d893cb1870:/etc/nginx# cd sites-bash: cd: sites-: No such file or directoryroot@38d893cb1870:/etc/nginx# cd sites-available/root@38d893cb1870:/etc/nginx/sites-available# lsdefault  defaultbackuproot@38d893cb1870:/etc/nginx/sites-available# rm default~~~~~~~~~~~~~ NORMAL  Dockerfile[+]                                                                                         dockerfile  utf-8[unix]   76% â˜°   19/25 ã‘ :  8  1 FROM ubuntu  2  3 MAINTAINER Maintaner Name  4  5 RUN apt-get update  6  7 RUN apt-get install -y nano wget dialog net-tools  8  9 RUN apt-get install -y nginx 10 RUN apt-get install software-properties-common -y 11 RUN add-apt-repository ppa:jonathonf/vim -y 12 RUN apt-get update 13 RUN apt-get install vim -y 14 15 #RUN rm -v /etc/nginx/nginx.conf 16 17 RUN rm -v rm /etc/nginx/sites-enabled/default 18 19 ADD load.conf /etc/nginx/ 20 21 RUN echo "daemon off;" >> /etc/nginx/nginx.conf 22 23 EXPOSE 80 24 25 CMD service nginx start~~~~~~~~~~~~~~~~~ NORMAL  Dockerfile[+]                            docâ€¦   76% â˜°   19/25 ã‘ :  8  1 FROM ubunturoot@38d893cb1870:/etc/nginx/sites-available# service nginx restart * Restarting nginx nginx                                                  jpet@mac161441 ~> docker exec -i -t admiring_shaw  /bin/bashError response from daemon: Container 38d893cb1870c286d8ca4971489e9d5022cdc5ea91111627f11320b340504a53 is not runningjpet@mac161441 ~> docker psCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMESjpet@mac161441 ~> vim Dockerfilejpet@mac161441 ~> lsApplications                             Library                                  heapDump-Pycharm-1511175605797.hprof.zipDesktop                                  Movies                                   java_error_in_pycharm.hprofDocuments                                Music                                    nslookupDownloads                                PicturesDropbox                                  Publicjpet@mac161441 ~> cd Documents/Git/nginx-loadbalancer-test/jpet@mac161441 ~/D/G/nginx-loadbalancer-test> lsDockerfilejpet@mac161441 ~/D/G/nginx-loadbalancer-test> vim Dockerfilejpet@mac161441 ~/D/G/nginx-loadbalancer-test> dockper psfish: Unknown command 'dockper'jpet@mac161441 ~/D/G/nginx-loadbalancer-test> docker psCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMESjpet@mac161441 ~/D/G/nginx-loadbalancer-test> docker psCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMESjpet@mac161441 ~/D/G/nginx-loadbalancer-test> docker psCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMESjpet@mac161441 ~/D/G/nginx-loadbalancer-test> docker ps  1 FROM ubuntuCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMESjpet@mac161441 ~/D/G/nginx-loadbalancer-test> vim Dockerfilejpet@mac161441 ~/D/G/nginx-loadbalancer-test> lsDockerfilejpet@mac161441 ~/D/G/nginx-loadbalancer-test> vim load-balancer.confjpet@mac161441 ~/D/G/nginx-loadbalancer-test> vim Dockerfilejpet@mac161441 ~/D/G/nginx-loadbalancer-test>docker build -t nginx/loadbalancer-test .Sending build context to Docker daemon  3.072kBStep 1/14 : FROM ubuntu ---> dd6f76d9cc90Step 2/14 : MAINTAINER Maintaner Name ---> Using cache ---> 8c27f8520969Step 3/14 : RUN apt-get update ---> Using cache ---> d699a750ad6bStep 4/14 : RUN apt-get install -y nano wget dialog net-tools ---> Using cache ---> 9ceb59a756ecStep 5/14 : RUN apt-get install -y nginx ---> Using cache ---> 05549e6168f0Step 6/14 : RUN apt-get install software-properties-common -y ---> Using cache ---> 728894e15f9aStep 7/14 : RUN add-apt-repository ppa:jonathonf/vim -y ---> Using cache ---> f6d67d89ef08Step 8/14 : RUN apt-get update ---> Using cache ---> b38c820ac7ebStep 9/14 : RUN apt-get install vim -y  1 FROM ubuntu ---> Using cache ---> 19612005be2cStep 10/14 : RUN rm -v rm /etc/nginx/sites-enabled/default ---> Running in b6a5520a8c86rm: cannot remove 'rm': No such file or directoryremoved '/etc/nginx/sites-enabled/default'The command '/bin/sh -c rm -v rm /etc/nginx/sites-enabled/default' returned a non-zero code: 1jpet@mac161441 ~/D/G/nginx-loadbalancer-test> vim Dockerfilejpet@mac161441 ~/D/G/nginx-loadbalancer-test> docker build -t nginx/loadbalancer-test .Sending build context to Docker daemon  3.072kBStep 1/14 : FROM ubuntu ---> dd6f76d9cc90Step 2/14 : MAINTAINER Maintaner Name ---> Using cache ---> 8c27f8520969Step 3/14 : RUN apt-get update ---> Using cache ---> d699a750ad6bStep 4/14 : RUN apt-get install -y nano wget dialog net-tools ---> Using cache ---> 9ceb59a756ecStep 5/14 : RUN apt-get install -y nginx ---> Using cache ---> 05549e6168f0Step 6/14 : RUN apt-get install software-properties-common -y ---> Using cache ---> 728894e15f9aStep 7/14 : RUN add-apt-repository ppa:jonathonf/vim -y ---> Using cache ---> f6d67d89ef08Step 8/14 : RUN apt-get update ---> Using cache ---> b38c820ac7ebStep 9/14 : RUN apt-get install vim -y ---> Using cache ---> 19612005be2cStep 10/14 : RUN rm -v rm /etc/nginx/sites-available/default ---> Running in e547fbda45f1rm: cannot remove 'rm': No such file or directoryremoved '/etc/nginx/sites-available/default'The command '/bin/sh -c rm -v rm /etc/nginx/sites-available/default' returned a non-zero code: 1jpet@mac161441 ~/D/G/nginx-loadbalancer-test> vim Dockerfilejpet@mac161441 ~/D/G/nginx-loadbalancer-test> docker build -t nginx/loadbalancer-test .Sending build context to Docker daemon  3.072kBStep 1/13 : FROM ubuntu ---> dd6f76d9cc90Step 2/13 : MAINTAINER Maintaner Name ---> Using cache ---> 8c27f8520969Step 3/13 : RUN apt-get update ---> Using cache ---> d699a750ad6bStep 4/13 : RUN apt-get install -y nano wget dialog net-tools ---> Using cache ---> 9ceb59a756ecStep 5/13 : RUN apt-get install -y nginx ---> Using cache ---> 05549e6168f0Step 6/13 : RUN apt-get install software-properties-common -y ---> Using cache ---> 728894e15f9aStep 7/13 : RUN add-apt-repository ppa:jonathonf/vim -y ---> Using cache ---> f6d67d89ef08Step 8/13 : RUN apt-get update ---> Using cache ---> b38c820ac7ebStep 9/13 : RUN apt-get install vim -y ---> Using cache ---> 19612005be2cStep 10/13 : ADD load-balancer.conf /etc/nginx/conf.d/ ---> 0165552e14e9Step 11/13 : RUN echo "daemon off;" >> /etc/nginx/nginx.conf ---> Running in 18d5b3bfab86 ---> ee8b56f8f59bRemoving intermediate container 18d5b3bfab86Step 12/13 : EXPOSE 80 ---> Running in 7316f5e2f0d6 ---> 654ac074b45aRemoving intermediate container 7316f5e2f0d6Step 13/13 : CMD service nginx start ---> Running in 4ee0eea13e75 ---> d401ac741925Removing intermediate container 4ee0eea13e75Successfully built d401ac741925Successfully tagged nginx/loadbalancer-test:latestjpet@mac161441 ~/D/G/nginx-loadbalancer-test> ducker,v
sites-available,v
/etc/nginx/conf.d/,v
# Define which servers to include in the load balancing scheme.upstream backend {   ip_hash;   server 192.168.1.232;   server 192.168.1.233;   server 192.168.1.234;}# This server accepts all traffic to port 80 and passes it to the upstream.server {   listen 80;   location / {      proxy_pass http://backend;   }},v
load-balancer.conf,v
# Define which servers to include in the load balancing scheme.upstream backend {   server 192.168.1.232;   server 192.168.1.233;   server 192.168.1.234;}# This server accepts all traffic to port 80 and passes it to the upstream.server {   listen 80;   location / {      proxy_pass http://backend;   }},v
3,v
systemctl restart nginx,v
"WorkingDir": "",,v
#RUN echo "deb http://archive.ubuntu.com/ubuntu/ raring main universe" >> /etc/apt/sources.list,V
~,V
1 ############################################################  2 # Dockerfile to build Nginx Installed Containers  3 # Based on Ubuntu  4 ############################################################  5  6 # Set the base image to Ubuntu  7 FROM ubuntu  8  9 # File Author / Maintainer 10 MAINTAINER Maintaner Name 11 12 # Install Nginx 13 14 # Add application repository URL to the default sources 15 #RUN echo "deb http://archive.ubuntu.com/ubuntu/ raring main universe" >> /etc/apt/sources.list 16 17 # Update the repository 18 RUN apt-get update 19 20 # Install necessary tools 21 RUN apt-get install -y nano wget dialog net-tools 22 23 # Download and Install Nginx 24 RUN apt-get install -y nginx 25 26 # Remove the default Nginx configuration file 27 RUN rm -v /etc/nginx/nginx.conf 28 29 # Copy a configuration file from the current directory 30 ADD nginx.conf /etc/nginx/ 31 32 # Append "daemon off;" to the beginning of the configuration 33 RUN echo "daemon off;" >> /etc/nginx/nginx.conf 34 35 # Expose ports 36 EXPOSE 80 37 38 # Set the default command to execute 39 # when creating a new container 40 CMD service nginx start~~~,v
 39 # when creating a new container,V
 38 # Set the default command to execute,V
 37,V
 35 # Expose ports,V
 34,V
 32 # Append "daemon off;" to the beginning of the configuration,V
 31,V
 29 # Copy a configuration file from the current directory,V
 28,V
 26 # Remove the default Nginx configuration file,V
 25,V
 23 # Download and Install Nginx,V
 22,V
 20 # Install necessary tools,V
 19,V
 17 # Update the repository,V
 16,V
 14 # Add application repository URL to the default sources,V
 13,V
 12 # Install Nginx,V
 11,V
  9 # File Author / Maintainer,V
  8,V
  6 # Set the base image to Ubuntu,V
  5,V
Christina Krzyrosiak Hansen,v
docker run -d -p 3000:3000 \    -v /var/lib/grafana:/var/lib/grafana \    -e "GF_SECURITY_ADMIN_PASSWORD=secret" \    grafana/grafana,v
dd6f76d9cc90,v
wget https://s3-us-west-2.amazonaws.com/grafana-releases/release/grafana_4.6.2_amd64.deb,V
CMD service nginx start,V
docker run -d --name=grafana -p 3000:3000 grafana/grafana,v
worker_processes 1;events { worker_connections 1024; }http {    sendfile on;    gzip              on;    gzip_http_version 1.0;    gzip_proxied      any;    gzip_min_length   500;    gzip_disable      "MSIE [1-6]\.";    gzip_types        text/plain text/xml text/css                      text/comma-separated-values                      text/javascript                      application/x-javascript                      application/atom+xml;    # List of application servers    upstream app_servers {        server 127.0.0.1:8080;    }    # Configuration for the server    server {        # Running port        listen 80;        # Proxying the connections connections        location / {            proxy_pass         http://app_servers;            proxy_redirect     off;            proxy_set_header   Host $host;            proxy_set_header   X-Real-IP $remote_addr;            proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;            proxy_set_header   X-Forwarded-Host $server_name;        }    }},V
############################################################# Dockerfile to build Nginx Installed Containers# Based on Ubuntu############################################################# Set the base image to UbuntuFROM ubuntu# File Author / MaintainerMAINTAINER Maintaner Name# Install Nginx# Add application repository URL to the default sourcesRUN echo "deb http://archive.ubuntu.com/ubuntu/ raring main universe" >> /etc/apt/sources.list# Update the repositoryRUN apt-get update# Install necessary toolsRUN apt-get install -y nano wget dialog net-tools# Download and Install NginxRUN apt-get install -y nginx  # Remove the default Nginx configuration fileRUN rm -v /etc/nginx/nginx.conf# Copy a configuration file from the current directoryADD nginx.conf /etc/nginx/# Append "daemon off;" to the beginning of the configurationRUN echo "daemon off;" >> /etc/nginx/nginx.conf# Expose portsEXPOSE 80# Set the default command to execute# when creating a new containerCMD service nginx start,v
CMD ["nginx", "-g", "daemon off;"],v
RUN apt-get install software-properties-commo -y,V
service nginx start,v
/etc/init.d/nginx restart,v
value.,V
172.17.0.3,v
RUN apt-get install software-properties-commonRUN add-apt-repository ppa:jonathonf/vim,v
E: Unable to locate package software-properties-commo,v
apt-get install software-properties-common,v
,v
ubuntu:latest,v
add-apt-repository,v
sudo add-apt-repository ppa:jonathonf/vim,V
ENTRYPOINT "put your code here" && /bin/bash,v
